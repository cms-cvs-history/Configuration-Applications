process RecHitConversion = 
{

  # initialize  MessageLogger
  include "FWCore/MessageLogger/data/MessageLogger.cfi"
 
  # initialize magnetic field
  include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

  # tracker geometry
  include "Geometry/TrackerRecoData/data/trackerRecoGeometryXML.cfi"

  # tracker geometry
  include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"

  # tracker numbering
  include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"

  # strip parameter estimator service for SiStripRecHitConverter
  include "RecoLocalTracker/SiStripRecHitConverter/data/StripCPEfromTrackAngle.cfi"

  source = PoolSource 
  { 
    untracked vstring fileNames = {"file:reco-application-tracking-clusterization.root"}
    untracked int32 maxEvents = -1
  }

  #include pixRecHitConverter
  include "RecoLocalTracker/SiPixelRecHits/data/SiPixelRecHits.cfi" 

  # include SiStripRecHitConverter
  include "RecoLocalTracker/SiStripRecHitConverter/data/SiStripRecHitConverter.cfi"
   include "RecoLocalTracker/SiStripRecHitConverter/data/SiStripRecHitMatcher.cfi"

  module out = PoolOutputModule 
  {
    untracked string fileName = "reco-application-tracking-rechitconversion.root"
  }

  path p = 
  {
    siPixelRecHits,siStripMatchedRecHits
  }

  endpath e = 
  {
    out
  }
}
