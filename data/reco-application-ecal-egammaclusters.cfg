process EcalEgammaClusters = {

  # initialize  MessageLogger
  include "FWCore/MessageLogger/data/MessageLogger.cfi"

  # initialize magnetic field
  include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

  # Calo geometry service model
  include "Geometry/CaloEventSetup/data/CaloGeometry.cfi"

  # Calo topology service model
  include "Geometry/CaloEventSetup/data/CaloTopology.cfi"

  source = PoolSource
  {
    untracked vstring fileNames = {"file:reco-application-ecal-localreco.root"}
    untracked int32 maxEvents = -1
  }

  # complete ecal clustering sequence
  include "RecoEcal/EgammaClusterProducers/data/ecalClusteringSequence.cff"

  module out = PoolOutputModule
  {
    untracked string fileName = "reco-application-ecal-egammaclusters.root"
  }

  path p =
  {
   ecalClusteringSequence
  }

  endpath e =
  {
    out
  }
}
