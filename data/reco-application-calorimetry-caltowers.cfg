process CalTowerMaker = {

  source = PoolSource { 
    untracked vstring fileNames = {"file:reco-application-calorimetry-reconstruction.root"}
    untracked int32 maxEvents = -1
  }

  module out = PoolOutputModule {
    untracked string fileName = "reco-application-calorimetry-caltowers.root"
    untracked vstring outputCommands = {
      "keep *",
      # drop digis
      "drop *_ecalrechit_*_*",
      "drop *_esrechit_*_*",
      "drop *_ecaluncalibrechit_*_*",
      "drop *_hbhereco_*_*",
      "drop *_horeco_*_*",
      "drop *_hfreco_*_*"
    }
  }

  # initialize  MessageLogger
  include "FWCore/MessageLogger/data/MessageLogger.cfi"
  replace MessageLogger.fwkJobReports = {"reco-application-calorimetry-caltowers.log.xml"}

  include "Configuration/JetMET/data/calorimetry-caltowers.cff"

  path p = { caloTowersRec }

  endpath e = 
  {
    out
  }
}
