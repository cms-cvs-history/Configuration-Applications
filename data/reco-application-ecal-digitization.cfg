process EcalDigitization = {
    untracked PSet maxEvents = {untracked int32 input = -1}


  # initialize  MessageLogger
  include "FWCore/MessageLogger/data/MessageLogger.cfi"
 
  # initialize magnetic field
  include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

  # geometry (Only Ecal+Hcal geometry)
  include "Geometry/EcalCommonData/data/EcalOnly.cfi"

  module mix = MixingModule
  {
     int32 bunchspace = 25
  }

  #ECAL Fake conditions
  include "CalibCalorimetry/Configuration/data/Ecal_FakeConditions.cff" 
  #ECAL digitization sequence
  include "SimCalorimetry/EcalSimProducers/data/ecalDigiSequence.cff"

  source = PoolSource 
  { 
    untracked vstring fileNames = {"file:reco-application-ecal-simulation.root"}
  }


  module out = PoolOutputModule 
  {
    untracked string fileName = "reco-application-ecal-digitization.root"
     untracked vstring outputCommands = 
     {  
        "keep *",
        "drop *_ecalUnsuppressedDigis_*_*" 
      }

  }


  path p = 
  {
	mix, ecalDigiSequence
  }

  endpath e = 
  {
    out
  }
}
