process EcalDigitization = {

  # initialize  MessageLogger
  include "FWCore/MessageLogger/data/MessageLogger.cfi"
 
  # initialize magnetic field
  include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

  # geometry (Only Ecal+Hcal geometry)
  include "Geometry/CaloEventSetup/test/data/testCaloConfiguration.cfi"

  module mix = MixingModule
  {
     int32 bunchspace = 25
  }

  #ECAL digitization sequence
  include "SimCalorimetry/EcalSimProducers/data/ecalDigiSequence.cff"

  source = PoolSource 
  { 
    untracked vstring fileNames = {"file:reco-application-ecal-simulation.root"}
    untracked int32 maxEvents = -1
  }


  module out = PoolOutputModule 
  {
    untracked string fileName = "reco-application-ecal-digitization.root"
     untracked vstring outputCommands = 
     {  
        "keep *",
        "drop *_ecaldigi_*_*" 
      }

  }


  path p = 
  {
	mix, ecalDigiSequence
  }

  endpath e = 
  {
    out
  }
}
