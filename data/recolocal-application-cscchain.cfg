##
# Test the production of the complete chain:
# from digi to CSCSegment
##

process CSCSegmentsProduction  = {
	
    source = PoolSource{
	    untracked vstring fileNames ={'file:evtgen_detsim_digi.root'}
		untracked int32 maxEvents = -1
		untracked uint32 debugVebosity = 10
        untracked bool   debugFlag     = true
    }

    include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

## CSC Geometry
    include "Geometry/MuonCommonData/data/muonEndcapIdealGeometryXML.cfi"
    include "Geometry/CSCGeometry/data/cscGeometry.cfi"

## CSCRecHit producer
    include "RecoLocalMuon/CSCRecHit/data/CSCRecHit2DProducer.cfi"

## CSCSegment producer
    include "RecoLocalMuon/CSCSegment/data/CSCSegmentProducer.cfi"

## Output ROOT file
	module out = PoolOutputModule {
	    untracked string fileName ="recolocal-application-cscsegments.root"
    }

## Paths
	path p = {csc2DRecHits, cscSegments}
	endpath this_is_the_end = {out}
}
